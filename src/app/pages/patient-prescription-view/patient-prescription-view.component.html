<nz-page-header nzBackIcon (nzBack)="getBack()">
    <nz-page-header-title>Prescription Preview</nz-page-header-title>
    <nz-page-header-subtitle>Prescription</nz-page-header-subtitle>
    <nz-page-header-tags>
    </nz-page-header-tags>
    <nz-page-header-extra>
        <button nz-button nzType="primary" (click)="print()"><i nz-icon
                nzType="printer"></i> Print</button>
    </nz-page-header-extra>
    <nz-page-header-content>
        <nz-card id="print" *ngIf="prescription">
            <div nz-row nzJustify="space-between" nzType="flex" *ngIf="profile" style="border-bottom: 2px solid black; margin-bottom: 20px;">
                <div nz-col nzSpan="6">
                    <!-- <img src="{{SERVER_URL}}{{profile.clinicLogo.url}}" width="300" height="100"> -->
                </div>
                <div nz-col nzSpan="8" nzOffset="10" style="text-align: justify">
                    <h3 style="font-style: italic">Dr. {{profile.name}}</h3>
                    <h5 *ngFor="let qual of profile.qualifications">{{qual}}</h5>
                    <h5>Reg. No. {{profile.doctorRegNo}}</h5>
                    <h5>{{profile.email}}</h5>
                    <h5>Clinic Contact: {{profile.clinicContactNumber}}</h5>
                </div>
            </div>
            <div nz-row>
                <div nz-col nzSpan="12">
                    <strong>Clinic Reg. No {{profile?.clinicRegNo}}</strong>
                </div>
                <div nz-col nzSpan="12" style="text-align: right">
                    <p><strong>Date:</strong> {{prescription.checkUpDate | date}}</p>
                </div>
                <div nz-col nzSpan="24">
                    <p><strong>Patient Name:</strong> {{prescription.patient?.name}}, <strong>Age / Gender:</strong>
                        {{prescription.patient?.age}} {{prescription.patient?.ageEnum}} / {{prescription.patient?.gender}}, <strong>Phone:</strong>
                        {{prescription.patient?.phonenumber}}</p>
                </div>
                <div nz-col nzSpan="24">
                    <p><strong>Symptoms:</strong> {{prescription.sympdiag?.symptoms.join(', ')}}</p>
                </div>
                <div nz-col nzSpan="24">
                    <p><strong>Diagnosis:</strong> {{prescription.sympdiag?.diagnosis.join(', ')}}</p>
                </div>
                <h3 style="font-style: italic">Rx</h3>
                <p><strong>Medicines:</strong></p>
                <div nz-col nzSpan="24">
                    <div nz-row *ngFor="let med of prescription.medicines; let i = index">
                        <div nz-col nzSpan="1">
                            <p>{{i+1}})</p>
                        </div>
                        <div nz-col nzSpan="6">
                            <p>{{med.name}}</p>
                        </div>
                        <div nz-col nzSpan="6">
                            <p>{{med.frequency}} {{med.freqEnum}}</p>
                            <p>{{med.instruction}}</p>
                        </div>
                        <div nz-col nzSpan="6">
                            <p>{{med.duration}} Days</p>
                        </div>
                    </div>
                </div>
                <p><strong>Tests:</strong></p>
                <div nz-col nzSpan="24">
                    <div nz-row *ngFor="let test of prescription.tests; let i = index">
                        <div nz-col nzSpan="1">
                            <p>{{i+1}})</p>
                        </div>
                        <div nz-col nzSpan="6">
                            {{test.name}}
                        </div>
                        <div nz-col nzSpan="6">
                            {{test.instruction}}
                        </div>
                        <div nz-col nzSpan="6">
                            {{test.result}}
                        </div>
                    </div>
                </div>
                <div nz-row style="margin-top: 120px;">
                    <div nz-col nzSpan="12">
                        <p><strong>Next Visit After:</strong> {{prescription.nextVisit}} {{prescription.nextVisitEnum}}
                        </p>
                    </div>
                    <div nz-col nzSpan="12" style="text-align: right">
                        <h3>{{profile?.name}}</h3>
                    </div>
                </div>
            </div>
        </nz-card>
    </nz-page-header-content>
    <nz-page-header-footer>
    </nz-page-header-footer>
</nz-page-header>